<!-- sabores-gelato.html -->
<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sabores Gelato</title>
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;800&display=swap" rel="stylesheet">
</head>
<body>
  <div class="container">
    <div class="progress-container">
      <div class="progress-bar" style="width: 60%"></div>
    </div>

    <div class="card">
      <h2>Sabores Gelato</h2>
      <div id="lista"></div>

      <button class="btn-back" onclick="location.href='tamanhos-gelatos.html'">Voltar</button>
    </div>
  </div>

  <!-- Carrinho flutuante -->
  <button id="cart-fab" class="cart-fab" aria-label="Abrir carrinho">
    <span class="cart-fab__icon">ðŸ›’</span>
    <span id="cart-badge" class="cart-fab__badge" hidden>0</span>
  </button>

  <!-- Drawer -->
  <div id="cart-drawer" class="cart-drawer" aria-hidden="true">
    <div class="cart-drawer__overlay" data-cart-close></div>
    <aside class="cart-drawer__panel">
      <header class="cart-drawer__header">
        <h3>Seu pedido</h3>
        <button class="cart-drawer__close" data-cart-close>âœ•</button>
      </header>
      <div id="cart-items" class="cart-drawer__items"></div>
      <footer class="cart-drawer__footer">
        <div class="cart-drawer__totals">
          <span>Total</span>
          <strong id="cart-total">R$ 0,00</strong>
        </div>
        <button id="cart-checkout" class="cart-drawer__checkout">
          Ir para checkout
        </button>
      </footer>
    </aside>
  </div>

  <script src="cart.js"></script>
  <script>
    const sabores = [
      "Gelato Biscoito Maria",
      "Gelato Ferrero Roche",
      "Gelato Abacaxi SuÃ­Ã§o",
      "Gelato Ninho C/ Pistache",
      "Gelato Nata Goiaba",
      "Gelato Pipoca Caramelizada"
    ];

    const lista = document.getElementById("lista");

    sabores.forEach(s => {
      const btn = document.createElement("button");
      btn.className = "option-btn";
      btn.innerText = s;

      btn.onclick = () => {
        const item = CartAPI.getTempItem();
        if (!item) return location.href = "tamanhos-gelatos.html";

        item.sabor = s;
        CartAPI.saveTempItem(item);

        location.href = "cobertura.html";
      };

      lista.appendChild(btn);
    });
  </script>
</body>
</html>
